<!DOCTYPE html>
<html>

<head>
    <title>template</title>
    <meta http-equiv="Content-type" content="text/html;charset=utf-8" />
    <meta name="Description" content="Learning Rust Wasm/Webassembly programming and having fun">
    <meta name="author" content="https://github.com/bestia-dev">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/bestia01.css">
    <script>
        /* Toggle between adding and removing the "responsive" class to navbar when the user clicks on the hamburger */
        function toggle_responsive_navbar() {
            var x = document.getElementById("navbar");
            if (x.className.includes(" responsive")) {
                x.className = x.className.replace(" responsive", "");
            } else {
                x.className += " responsive";
            }
        }
    </script>
</head>

<body>
    <div class="fixed_header">
        <div id="navbar">
            <a id="navbar_brand" href="https://bestia.dev">
                <img src="bestia_icon.png" alt="Bestia development" title="bestia.dev" />
                <span id="navbar_title"> Bestia dev</span>
            </a>
            <a id="navbar_hamburger" href="javascript:void(0);" onclick="toggle_responsive_navbar()">‚ò∞ </a>
            <div id="navbar_topics">
                <a href="/index.html#home" onclick="toggle_responsive_navbar()">Home </a>
                <a href="/index.html#tutorials" onclick="toggle_responsive_navbar()">Tutorials</a>
                <a href="/index.html#games" onclick="toggle_responsive_navbar()">Games</a>
                <a href="/index.html#productivity" onclick="toggle_responsive_navbar()">Productivity</a>
                <a href="/index.html#contact" onclick="toggle_responsive_navbar()">Contact</a>
            </div>
        </div>
    </div>

<article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-cargo-auto" class="anchor" aria-hidden="true" href="#cargo-auto"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>cargo-auto</h1>
<p dir="auto"><strong>cargo-auto - automation tasks written in Rust language for the build process of Rust projects</strong><br>
<em><strong>version: 2022.512.1805 date: 2022-05-12 author: <a href="https://bestia.dev" rel="nofollow">bestia.dev</a> repository: <a href="https://github.com/bestia-dev/cargo-auto">Github</a></strong></em></p>
<p dir="auto"><a href="https://github.com/bestia-dev/cargo-auto/"><img src="https://camo.githubusercontent.com/1e5444603cdc9d9e715c09acad76ac4ad5a4248af388130a9a292a6bec71d8e3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c696e65735f696e5f527573742d3633352d677265656e2e737667" alt="Lines in Rust code" data-canonical-src="https://img.shields.io/badge/Lines_in_Rust-635-green.svg" style="max-width: 100%;"></a>
<a href="https://github.com/bestia-dev/cargo-auto/"><img src="https://camo.githubusercontent.com/ef8fdbfd0be9b2b72761701e659b36896cb96b75092b805889693915750432cd/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c696e65735f696e5f446f635f636f6d6d656e74732d3533322d626c75652e737667" alt="Lines in Doc comments" data-canonical-src="https://img.shields.io/badge/Lines_in_Doc_comments-532-blue.svg" style="max-width: 100%;"></a>
<a href="https://github.com/bestia-dev/cargo-auto/"><img src="https://camo.githubusercontent.com/61bd984cd81617bb07638be343081e4fa14caaec5b31d3a705d5af188eda49db/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c696e65735f696e5f636f6d6d656e74732d3131312d707572706c652e737667" alt="Lines in Comments" data-canonical-src="https://img.shields.io/badge/Lines_in_comments-111-purple.svg" style="max-width: 100%;"></a>
<a href="https://github.com/bestia-dev/cargo-auto/"><img src="https://camo.githubusercontent.com/ca23628eb99142a21cb1c4d2691f8eb74e53f9731e50ebd3dab96f4ea3baa96b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c696e65735f696e5f6578616d706c65732d302d79656c6c6f772e737667" alt="Lines in examples" data-canonical-src="https://img.shields.io/badge/Lines_in_examples-0-yellow.svg" style="max-width: 100%;"></a>
<a href="https://github.com/bestia-dev/cargo-auto/"><img src="https://camo.githubusercontent.com/0d7d9969846cff2cd5212da5402093e0790f0aa7339134f65fe7305ff2ca0178/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c696e65735f696e5f74657374732d313230342d6f72616e67652e737667" alt="Lines in tests" data-canonical-src="https://img.shields.io/badge/Lines_in_tests-1204-orange.svg" style="max-width: 100%;"></a></p>
<p dir="auto"><a href="https://crates.io/crates/cargo-auto" rel="nofollow"><img src="https://camo.githubusercontent.com/de1d5ce743c9d0d9477057f5917686afba671c5fdd561d64e4736bf6990f775b/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f636172676f2d6175746f2e737667" alt="crates.io" data-canonical-src="https://img.shields.io/crates/v/cargo-auto.svg" style="max-width: 100%;"></a>
<a href="https://docs.rs/cargo-auto/" rel="nofollow"><img src="https://camo.githubusercontent.com/4bf23d0051f701231de11901dce8cde8b07c9312009d3da77738871b9b10cd6b/68747470733a2f2f646f63732e72732f636172676f2d6175746f2f62616467652e737667" alt="Documentation" data-canonical-src="https://docs.rs/cargo-auto/badge.svg" style="max-width: 100%;"></a>
<a href="https://web.crev.dev/rust-reviews/crate/cargo-auto/" rel="nofollow"><img src="https://camo.githubusercontent.com/3380bf0845c6685d944e2ed97fda75a78d139bb52db84c6e151f95649bde34af/68747470733a2f2f7765622e637265762e6465762f727573742d726576696577732f62616467652f637265765f636f756e742f636172676f2d6175746f2e737667" alt="crev reviews" data-canonical-src="https://web.crev.dev/rust-reviews/badge/crev_count/cargo-auto.svg" style="max-width: 100%;"></a>
<a href="https://lib.rs/crates/cargo-auto/" rel="nofollow"><img src="https://camo.githubusercontent.com/9164bfcebc9eb586a3b2e00e2d0d9a768b5c32960d5a66b68db582b15168f5b9/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c69622e72732d727573742d6f72616e67652e737667" alt="Lib.rs" data-canonical-src="https://img.shields.io/badge/Lib.rs-rust-orange.svg" style="max-width: 100%;"></a>
<a href="https://github.com/bestia-dev/cargo-auto/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/83d3746e5881c1867665223424263d8e604df233d0a11aae0813e0414d433943/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d626c75652e737667" alt="License" data-canonical-src="https://img.shields.io/badge/license-MIT-blue.svg" style="max-width: 100%;"></a>
<a href="https://github.com/bestia-dev/cargo-auto/"><img src="https://github.com/bestia-dev/cargo-auto/workflows/RustAction/badge.svg" alt="Rust" style="max-width: 100%;"></a>
<a href="https://hits.seeyoufarm.com" rel="nofollow"><img src="https://camo.githubusercontent.com/f8490fe62c131c81f6a7dc354c20bc32b974e4428f0f6dd0948c66c1752965b0/68747470733a2f2f686974732e736565796f756661726d2e636f6d2f6170692f636f756e742f696e63722f62616467652e7376673f75726c3d68747470732533412532462532466769746875622e636f6d2532466265737469612d646576253246636172676f2d6175746f26636f756e745f62673d253233373943383344267469746c655f62673d2532333535353535352669636f6e3d2669636f6e5f636f6c6f723d253233453745374537267469746c653d6869747326656467655f666c61743d66616c7365" alt="Hits" data-canonical-src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2Fbestia-dev%2Fcargo-auto&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=hits&amp;edge_flat=false" style="max-width: 100%;"></a></p>
<p dir="auto">Hashtags: #rustlang #buildtool #developmenttool #cli</p>
<h2 dir="auto"><a id="user-content-try-it" class="anchor" aria-hidden="true" href="#try-it"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Try it</h2>
<p dir="auto">First, we will use <code>cargo-auto</code> to create a new empty CLI Rust project similar to <code>cargo new</code>, but with a more complete project structure.</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cargo install cargo-auto
cargo auto new_cli my_hello_project
cd my_hello_project
cargo auto
# it lists all the prepared automation tasks
# try a few
cargo auto build
cargo auto release
cargo auto doc
cargo auto test"><pre>cargo install cargo-auto
cargo auto new_cli my_hello_project
<span class="pl-c1">cd</span> my_hello_project
cargo auto
<span class="pl-c"><span class="pl-c">#</span> it lists all the prepared automation tasks</span>
<span class="pl-c"><span class="pl-c">#</span> try a few</span>
cargo auto build
cargo auto release
cargo auto doc
cargo auto <span class="pl-c1">test</span></pre></div>
<p dir="auto">We can also add <code>automation tasks</code> to an existing Rust project.
Inside your Rust project directory (the one with Cargo.toml) run:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cargo auto new_auto
cargo auto
# it lists all the prepared automation tasks
# try to build
cargo auto build"><pre>cargo auto new_auto
cargo auto
<span class="pl-c"><span class="pl-c">#</span> it lists all the prepared automation tasks</span>
<span class="pl-c"><span class="pl-c">#</span> try to build</span>
cargo auto build</pre></div>
<p dir="auto">Congratulations! You are already using <code>cargo-auto</code>. Simple as that.<br>
Now you can modify the tasks to your needs. It is all Rust language.</p>
<h2 dir="auto"><a id="user-content-motivation" class="anchor" aria-hidden="true" href="#motivation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Motivation</h2>
<p dir="auto">Cargo is a great tool for building Rust projects. It has all the basics: <code>cargo build</code>, <code>cargo build --release</code>, <code>cargo fmt</code>, <code>cargo test</code>, <code>cargo doc</code>,...<br>
But sometimes we need to do more things like copying some files, publish to ftp or enter long commands. These repetitive tasks must be automated.<br>
Task automation makes work easier and faster, simplifies the workflow, while improving the consistency and accuracy of workflows.<br>
This is also sometimes referred to as "workflow automation."<br>
There are many different build systems and task runners there: <code>make</code>, <code>cmake</code>, <code>shell scripts</code>, <code>cargo-xtask</code>, <code>cargo-make</code>, <code>cargo-task</code>, <code>cargo-script</code>, <code>cargo-run-script</code>, <code>runner</code>, <code>python scripts</code>, <code>powershell scripts</code>, <code>cmd prompt scripts</code>, ...<br>
Sadly there is no standard in the Rust community for now.<br>
I want something similar to <a href="https://doc.rust-lang.org/cargo/reference/build-scripts.html" rel="nofollow">build.rs</a>, so I can write my "tasks" in pure Rust I don't want to learn another meta language with weird syntax and difficult to debug. So I will make something really simple, easy, rusty and extensible.</p>
<h2 dir="auto"><a id="user-content-cargo-auto-new_cli" class="anchor" aria-hidden="true" href="#cargo-auto-new_cli"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>cargo auto new_cli</h2>
<p dir="auto">I like very much that Rust has the command <code>cargo new project_name</code>. It creates a super simple Rust hello project that can be build and run immediately. But this example is too simple. It lacks basic file structures of a serious CLI program.<br>
I composed an opinionated template for a Rust CLI project. It is easy to run:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cargo auto new_cli project_name"><pre>cargo auto new_cli project_name</pre></div>
<h2 dir="auto"><a id="user-content-scripting-with-rust" class="anchor" aria-hidden="true" href="#scripting-with-rust"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>scripting with rust</h2>
<p dir="auto">Rust is a compiled language. It is not really a scripting or interpreted language. But the compilation of small projects is really fast and can be ignored. Subsequent calls will use the already built binary and so the speed will be even faster.<br>
This tool <code>cargo-auto</code> is meant for Rust projects, so it means that all the Rust infrastructure is already in place.</p>
<h2 dir="auto"><a id="user-content-automation_tasks_rs-helper-project" class="anchor" aria-hidden="true" href="#automation_tasks_rs-helper-project"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>automation_tasks_rs helper project</h2>
<p dir="auto">The command <code>cargo auto new_auto</code> will create a new directory <code>automation_tasks_rs</code> with a template for a helper Rust project in the root directory of your <code>main Rust project</code> . It should not interfere with the main Rust project. This directory will be added into git commits and pushed to remote repositories as part of the main project. It has its own <code>.gitignore</code> to avoid committing its target directory.<br>
The <code>automation_tasks_rs</code> helper project contains user defined tasks in Rust code. Your tasks. This helper project should be opened in a new editor starting from the <code>automation_tasks_rs</code> directory. It does not share dependencies with the main project. It is completely separate and independent.<br>
You can edit it and add your dependencies and Rust code. No limits. Freedom of expression.<br>
This is now your code, your tasks and your helper Rust project!<br>
Because only you know what you want to automate and how to do it.<br>
Basic example:</p>
<div class="highlight highlight-source-rust notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="/// match arguments and call tasks functions
fn match_arguments_and_call_tasks(mut args: std::env::Args){
    // the first argument is the user defined task: (no argument for help), build, release,...
    let arg_1 = args.next();
    match arg_1 {
        None =&gt; print_help(),
        Some(task) =&gt; {            
            println!(&quot;Running auto task: {}&quot;, &amp;task);
            if &amp;task == &quot;build&quot;{
                task_build();
            } else if &amp;task == &quot;release&quot; {
                task_release();
            } else if &amp;task == &quot;doc&quot; {
                task_doc();
            } else {
                println!(&quot;Task {} is unknown.&quot;, &amp;task);
                print_help();
            }
        }
    }
}

/// write a comprehensible help for user defined tasks
fn print_help() {
    println!(&quot;User defined tasks in automation_tasks_rs:&quot;);
    println!(&quot;cargo auto build - builds the crate in debug mode&quot;);
    println!(&quot;cargo auto release - builds the crate in release mode&quot;);
    println!(&quot;cargo auto docs - builds the docs&quot;);
}

// region: tasks

/// cargo build
fn task_build() {
    #[rustfmt::skip]
    let shell_commands = [
        &quot;echo $ cargo fmt&quot;,
        &quot;cargo fmt&quot;,
        &quot;echo $ cargo build&quot;,
        &quot;cargo build&quot;];
    run_shell_commands(shell_commands.to_vec());
}

/// cargo build --release
fn task_release() {
    println!(&quot;$ cargo fmt&quot;);
    run_shell_command(&quot;cargo fmt&quot;);
    println!(&quot;$ cargo build --release&quot;);
    run_shell_command(&quot;cargo build --release&quot;);
}

/// cargo doc, then copies to /docs/ folder, because this is a github standard folder
fn task_doc() {
    #[rustfmt::skip]
    let shell_commands = [
        &quot;echo $ cargo doc --no-deps --document-private-items --open&quot;,
        &quot;cargo doc --no-deps --document-private-items --open&quot;,
        // copy to /docs/ because it is github standard
        &quot;echo $ rsync -a --info=progress2 --delete-after target/doc/ docs/&quot;,
        &quot;rsync -a --info=progress2 --delete-after target/doc/ docs/&quot;,
        &quot;echo Create simple index.html file in docs directory&quot;,
        &amp;format!(&quot;echo \&quot;&lt;meta http-equiv=\\\&quot;refresh\\\&quot; content=\\\&quot;0; url={}/index.html\\\&quot; /&gt;\&quot; &gt; docs/index.html&quot;,&amp;project_directory_name()) ,
        // message to help user with next move
        &quot;echo After successful doc, commit and push changes&quot;,
        ];
    run_shell_commands(shell_commands.to_vec());
}

// endregion: tasks
"><pre><span class="pl-c">/// match arguments and call tasks functions</span>
<span class="pl-k">fn</span> <span class="pl-en">match_arguments_and_call_tasks</span>(<span class="pl-k">mut</span> args: std::env::Args){
    <span class="pl-c">// the first argument is the user defined task: (no argument for help), build, release,...</span>
    <span class="pl-k">let</span> arg_1 <span class="pl-k">=</span> args.<span class="pl-en">next</span>();
    <span class="pl-k">match</span> arg_1 {
        <span class="pl-c1">None</span> <span class="pl-k">=&gt;</span> <span class="pl-en">print_help</span>(),
        <span class="pl-c1">Some</span>(task) <span class="pl-k">=&gt;</span> {            
            <span class="pl-c1">println!</span>(<span class="pl-s">"Running auto task: {}"</span>, <span class="pl-k">&amp;</span>task);
            <span class="pl-k">if</span> <span class="pl-k">&amp;</span>task <span class="pl-k">==</span> <span class="pl-s">"build"</span>{
                <span class="pl-en">task_build</span>();
            } <span class="pl-k">else</span> <span class="pl-k">if</span> <span class="pl-k">&amp;</span>task <span class="pl-k">==</span> <span class="pl-s">"release"</span> {
                <span class="pl-en">task_release</span>();
            } <span class="pl-k">else</span> <span class="pl-k">if</span> <span class="pl-k">&amp;</span>task <span class="pl-k">==</span> <span class="pl-s">"doc"</span> {
                <span class="pl-en">task_doc</span>();
            } <span class="pl-k">else</span> {
                <span class="pl-c1">println!</span>(<span class="pl-s">"Task {} is unknown."</span>, <span class="pl-k">&amp;</span>task);
                <span class="pl-en">print_help</span>();
            }
        }
    }
}

<span class="pl-c">/// write a comprehensible help for user defined tasks</span>
<span class="pl-k">fn</span> <span class="pl-en">print_help</span>() {
    <span class="pl-c1">println!</span>(<span class="pl-s">"User defined tasks in automation_tasks_rs:"</span>);
    <span class="pl-c1">println!</span>(<span class="pl-s">"cargo auto build - builds the crate in debug mode"</span>);
    <span class="pl-c1">println!</span>(<span class="pl-s">"cargo auto release - builds the crate in release mode"</span>);
    <span class="pl-c1">println!</span>(<span class="pl-s">"cargo auto docs - builds the docs"</span>);
}

<span class="pl-c">// region: tasks</span>

<span class="pl-c">/// cargo build</span>
<span class="pl-k">fn</span> <span class="pl-en">task_build</span>() {
    #[rustfmt::skip]
    <span class="pl-k">let</span> shell_commands <span class="pl-k">=</span> [
        <span class="pl-s">"echo $ cargo fmt"</span>,
        <span class="pl-s">"cargo fmt"</span>,
        <span class="pl-s">"echo $ cargo build"</span>,
        <span class="pl-s">"cargo build"</span>];
    <span class="pl-en">run_shell_commands</span>(shell_commands.<span class="pl-en">to_vec</span>());
}

<span class="pl-c">/// cargo build --release</span>
<span class="pl-k">fn</span> <span class="pl-en">task_release</span>() {
    <span class="pl-c1">println!</span>(<span class="pl-s">"$ cargo fmt"</span>);
    <span class="pl-en">run_shell_command</span>(<span class="pl-s">"cargo fmt"</span>);
    <span class="pl-c1">println!</span>(<span class="pl-s">"$ cargo build --release"</span>);
    <span class="pl-en">run_shell_command</span>(<span class="pl-s">"cargo build --release"</span>);
}

<span class="pl-c">/// cargo doc, then copies to /docs/ folder, because this is a github standard folder</span>
<span class="pl-k">fn</span> <span class="pl-en">task_doc</span>() {
    #[rustfmt::skip]
    <span class="pl-k">let</span> shell_commands <span class="pl-k">=</span> [
        <span class="pl-s">"echo $ cargo doc --no-deps --document-private-items --open"</span>,
        <span class="pl-s">"cargo doc --no-deps --document-private-items --open"</span>,
        <span class="pl-c">// copy to /docs/ because it is github standard</span>
        <span class="pl-s">"echo $ rsync -a --info=progress2 --delete-after target/doc/ docs/"</span>,
        <span class="pl-s">"rsync -a --info=progress2 --delete-after target/doc/ docs/"</span>,
        <span class="pl-s">"echo Create simple index.html file in docs directory"</span>,
        <span class="pl-k">&amp;</span><span class="pl-c1">format!</span>(<span class="pl-s">"echo <span class="pl-cce">\"</span>&lt;meta http-equiv=<span class="pl-cce">\\\"</span>refresh<span class="pl-cce">\\\"</span> content=<span class="pl-cce">\\\"</span>0; url={}/index.html<span class="pl-cce">\\\"</span> /&gt;<span class="pl-cce">\"</span> &gt; docs/index.html"</span>,<span class="pl-k">&amp;</span><span class="pl-en">project_directory_name</span>()) ,
        <span class="pl-c">// message to help user with next move</span>
        <span class="pl-s">"echo After successful doc, commit and push changes"</span>,
        ];
    <span class="pl-en">run_shell_commands</span>(shell_commands.<span class="pl-en">to_vec</span>());
}

<span class="pl-c">// endregion: tasks</span>
</pre></div>
<h2 dir="auto"><a id="user-content-cargo-auto-subcommand" class="anchor" aria-hidden="true" href="#cargo-auto-subcommand"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>cargo auto subcommand</h2>
<p dir="auto">The command <code>cargo install cargo-auto</code> will add a new subcommand to cargo:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cargo auto"><pre>cargo auto</pre></div>
<p dir="auto">This binary is super simple. It has only 3 trivial dependencies: <code>unwrap</code>, <code>termion</code> and <code>lazy_static</code>.<br>
The binary only reads the CLI arguments and runs the <code>automation_tasks_rs</code> binary with them. If needed it will compile <code>automation_tasks_rs</code> first.<br>
The code-flow of the source code of <code>cargo-auto</code> is simple, fully commented and straightforward to audit.<br>
The source code is on <a href="https://github.com/bestia-dev/cargo-auto">GitHub</a> with MIT open-source licensing.</p>
<h2 dir="auto"><a id="user-content-bash-auto-completion" class="anchor" aria-hidden="true" href="#bash-auto-completion"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>bash auto-completion</h2>
<p dir="auto">With the help of the crate <a href="https://crates.io/crates/dev_bestia_cargo_completion" rel="nofollow">dev_bestia_cargo_completion</a> the commands <code>cargo</code> and <code>cargo auto</code> get bash auto-completion. Try it!</p>
<h2 dir="auto"><a id="user-content-cargo-auto-new_auto" class="anchor" aria-hidden="true" href="#cargo-auto-new_auto"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>cargo auto new_auto</h2>
<p dir="auto">Inside the cargo-auto project there is a Rust sub-projects that is a template. I can open a new editor for this directories and build this crate independently. So it is easy to debug and develop.<br>
Sadly, I cannot publish these directories and files to <code>crates.io</code>. I can effectively publish only the source code inside my main Rust project <code>cargo-auto</code>.<br>
Therefor, before publishing I copy the content of these files into the modules <code>template_new_auto_mod.rs</code> on every build. It is not difficult now that Rust has fantastic <a href="https://doc.rust-lang.org/rust-by-example/std/str.html" rel="nofollow">raw strings</a>.</p>
<h2 dir="auto"><a id="user-content-more-complex-tasks" class="anchor" aria-hidden="true" href="#more-complex-tasks"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>more complex tasks</h2>
<p dir="auto">You can write more complex tasks in Rust language.<br>
For example in this project I use automation to create github Releases : <a href="https://github.com/bestia-dev/dropbox_backup_to_external_disk">https://github.com/bestia-dev/dropbox_backup_to_external_disk</a><br>
Here is pretty complex workspace with more sub-projects:<br>
<a href="https://github.com/bestia-dev/cargo_crev_reviews_workspace">https://github.com/bestia-dev/cargo_crev_reviews_workspace</a><br>
There is no end to your imagination. If you write something that looks it can help other developers, please share it with me and I will add it here.</p>
<h2 dir="auto"><a id="user-content-development" class="anchor" aria-hidden="true" href="#development"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>development</h2>
<p dir="auto">Usually I compile and run the code of <code>cargo-auto</code> with added arguments like this:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cargo run -- new_auto
cargo run -- build
cargo run -- release"><pre>cargo run -- new_auto
cargo run -- build
cargo run -- release</pre></div>
<h2 dir="auto"><a id="user-content-todo" class="anchor" aria-hidden="true" href="#todo"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>TODO</h2>
<p dir="auto">Get the username from git, to use it in Cargo.toml of new_cli</p>
<h2 dir="auto"><a id="user-content-cargo-crev-reviews-and-advisory" class="anchor" aria-hidden="true" href="#cargo-crev-reviews-and-advisory"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>cargo crev reviews and advisory</h2>
<p dir="auto">We live in times of danger with <a href="https://en.wikipedia.org/wiki/Supply_chain_attack" rel="nofollow">supply chain attacks</a>.<br>
It is recommended to always use <a href="https://github.com/crev-dev/cargo-crev">cargo-crev</a><br>
to verify the trustworthiness of each of your dependencies.<br>
Please, spread this info.<br>
You can also read reviews quickly on the web:<br>
<a href="https://web.crev.dev/rust-reviews/crates/" rel="nofollow">https://web.crev.dev/rust-reviews/crates/</a></p>
<h2 dir="auto"><a id="user-content-open-source-free-and-free-as-a-beer" class="anchor" aria-hidden="true" href="#open-source-free-and-free-as-a-beer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>open-source free and free as a beer</h2>
<p dir="auto">My open-source projects are free as a beer (MIT license).<br>
I just love programming.<br>
But I need also to drink. If you find my projects and tutorials helpful,<br>
please buy me a beer donating on my <a href="https://paypal.me/LucianoBestia" rel="nofollow">paypal</a>.<br>
You know the price of a beer in your local bar ;-)<br>
So I can drink a free beer for your health :-)<br>
<a href="https://translate.google.com/?hl=en&amp;sl=sl&amp;tl=en&amp;text=Na%20zdravje&amp;op=translate" rel="nofollow">Na zdravje!</a> <a href="https://dictionary.cambridge.org/dictionary/italian-english/alla-salute" rel="nofollow">Alla salute!</a> <a href="https://dictionary.cambridge.org/dictionary/german-english/prost" rel="nofollow">Prost!</a> <a href="https://matadornetwork.com/nights/how-to-say-cheers-in-50-languages/" rel="nofollow">Nazdravlje!</a> <g-emoji class="g-emoji" alias="beers" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f37b.png">üçª</g-emoji></p>
</article>
</body>

</html>