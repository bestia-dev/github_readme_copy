<!DOCTYPE html>
<html>

<head>
    <title>template</title>
    <meta http-equiv="Content-type" content="text/html;charset=utf-8" />
    <meta name="Description" content="Learning Rust Wasm/Webassembly programming and having fun">
    <meta name="author" content="https://github.com/bestia-dev">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/bestia01.css">
    <script>
        /* Toggle between adding and removing the "responsive" class to navbar when the user clicks on the hamburger */
        function toggle_responsive_navbar() {
            var x = document.getElementById("navbar");
            if (x.className.includes(" responsive")) {
                x.className = x.className.replace(" responsive", "");
            } else {
                x.className += " responsive";
            }
        }
    </script>
</head>

<body>
    <div class="fixed_header">
        <div id="navbar">
            <a id="navbar_brand" href="https://bestia.dev">
                <img src="bestia_icon.png" alt="Bestia development" title="bestia.dev" />
                <span id="navbar_title"> Bestia dev</span>
            </a>
            <a id="navbar_hamburger" href="javascript:void(0);" onclick="toggle_responsive_navbar()">â˜° </a>
            <div id="navbar_topics">
                <a href="/index.html#home" onclick="toggle_responsive_navbar()">Home </a>
                <a href="/index.html#tutorials" onclick="toggle_responsive_navbar()">Tutorials</a>
                <a href="/index.html#games" onclick="toggle_responsive_navbar()">Games</a>
                <a href="/index.html#productivity" onclick="toggle_responsive_navbar()">Productivity</a>
                <a href="/index.html#contact" onclick="toggle_responsive_navbar()">Contact</a>
            </div>
        </div>
    </div>

<article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-mem3_game" class="anchor" aria-hidden="true" href="#mem3_game"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>mem3_game</h1>
<p dir="auto"><strong>A step toward idiomatic Rust, but not the final step.</strong><br>
<em><strong>version: 3.0  date: 2019-05-20 author: <a href="https://bestia.dev" rel="nofollow">bestia.dev</a> repository: <a href="https://github.com/bestia-dev/mem3_game">GitHub</a></strong></em></p>
<p dir="auto"><a href="https://hits.seeyoufarm.com" rel="nofollow"><img src="https://camo.githubusercontent.com/0280f12c95094d1321098a3db51737426761c79f744056398968a50198d43d89/68747470733a2f2f686974732e736565796f756661726d2e636f6d2f6170692f636f756e742f696e63722f62616467652e7376673f75726c3d68747470732533412532462532466769746875622e636f6d2532466265737469612d6465762532466d656d335f67616d6526636f756e745f62673d253233373943383344267469746c655f62673d2532333535353535352669636f6e3d2669636f6e5f636f6c6f723d253233453745374537267469746c653d6869747326656467655f666c61743d66616c7365" alt="Hits" data-canonical-src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2Fbestia-dev%2Fmem3_game&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=hits&amp;edge_flat=false" style="max-width: 100%;"></a></p>
<p dir="auto">Hashtags: #rustlang #game #tutorial</p>
<p dir="auto">Read the <code>Last project</code>:<br>
<a href="https://github.com/bestia-dev/mem2">https://github.com/bestia-dev/mem2</a><br>
You can play the game here (hosted on google cloud platform):<br>
<a href="https://bestia.dev/mem3" rel="nofollow">https://bestia.dev/mem3</a></p>
<h2 dir="auto"><a id="user-content-clone" class="anchor" aria-hidden="true" href="#clone"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Clone</h2>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="git clone git@github.com:bestia-dev/mem3_game.git
cd mem3"><pre>git clone git@github.com:bestia-dev/mem3_game.git
<span class="pl-c1">cd</span> mem3</pre></div>
<h2 dir="auto"><a id="user-content-build" class="anchor" aria-hidden="true" href="#build"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Build</h2>
<p dir="auto">Install cargo-make:<br>
<code>cargo install --force cargo-make</code></p>
<p dir="auto">Build:<br>
<code>cargo make</code><br>
It will:</p>
<ul dir="auto">
<li>build both projects,</li>
<li>copy pkg folder and index.html into server project,</li>
<li>run 2 chrome tabs</li>
<li>run the http+WebSocket server</li>
</ul>
<p dir="auto">Please refresh the browser tabs manually after that, so they download the new files.<br>
A little about cargo-make:<br>
<a href="https://medium.com/@sagiegurari/automating-your-rust-workflows-with-cargo-make-part-1-of-5-introduction-and-basics-b19ced7e7057" rel="nofollow">https://medium.com/@sagiegurari/automating-your-rust-workflows-with-cargo-make-part-1-of-5-introduction-and-basics-b19ced7e7057</a></p>
<h1 dir="auto"><a id="user-content-memory-game-rules" class="anchor" aria-hidden="true" href="#memory-game-rules"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Memory game rules</h1>
<p dir="auto">This game is for exactly 2 players.<br>
Both players must have the webpage simultaneously opened in the browser to allow communication.<br>
To start over just refresh the webpage.<br>
The first player clicks on 'Invite for play?' and broadcasts the message over WebSocket.<br>
He can choose different types of play: alphabet, animal,...<br>
Player2 then sees on the screen 'Click here to Accept play!', clicks it and sends the message back to Player1.<br>
The game starts with a grid of 8 randomly shuffled card pairs face down - 16 cards in all.<br>
On the screen under the grid are clear signals which player plays and which waits.<br>
Player1 flips over two cards with two clicks. The cards are accompanied by sounds and text on the screen.<br>
If the cards do not match, the other player clicks on 'Click here to Take your turn' and both cards are flipped back face down. Then it is his turn and he clicks to flip over his two cards.<br>
If the cards match, they are left face up permanently and the player receives a point. He continues to play, he opens the next two cards.<br>
The game is over when all the cards are permanently face up. It means that the sum of points is exactly 8.<br>
Click on "Play again?" to start the game over.</p>
<h2 dir="auto"><a id="user-content-cargo-crev-reviews-and-advisory" class="anchor" aria-hidden="true" href="#cargo-crev-reviews-and-advisory"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>cargo crev reviews and advisory</h2>
<p dir="auto">It is recommended to always use <a href="https://github.com/crev-dev/cargo-crev">cargo-crev</a><br>
to verify the trustworthiness of each of your dependencies.<br>
Please, spread this info.<br>
On the web use this url to read crate reviews. Example:<br>
<a href="https://web.crev.dev/rust-reviews/crate/num-traits/" rel="nofollow">https://web.crev.dev/rust-reviews/crate/num-traits/</a></p>
<h2 dir="auto"><a id="user-content-next-projects" class="anchor" aria-hidden="true" href="#next-projects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Next projects</h2>
<p dir="auto"><a href="https://github.com/bestia-dev/mem4_game">https://github.com/bestia-dev/mem4_game</a></p>
<h2 dir="auto"><a id="user-content-changelog" class="anchor" aria-hidden="true" href="#changelog"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Changelog</h2>
<ul dir="auto">
<li>Only one WorkSpace for the frontend and end backend projects and commons. To see how it works.</li>
<li>use cargo make (build scripts) to copy needed files to webfolder. This folder can be then copied to some website and works.</li>
<li>mem3 RenderComponents have an internal cache for values. These are copied/cloned from game_data. ANd invalidated accordingly.</li>
<li>For the research of different approach to game_data references I opened a new project with minimalistic code.<br>
<a href="https://github.com/bestia-dev/dodrio_multi_component">https://github.com/bestia-dev/dodrio_multi_component</a><br>
2019-05-19</li>
<li>player can choose more than one content: "images, sounds and text"</li>
<li>fetch text.json from Rust asynchronously over WebSocket
2019-05-20
-- re-invite player for different game</li>
<li>the server broadcasts only the first "Want to play?". All the rest is a private conversation between 2 players.</li>
<li>use files as separate modules of the same crate</li>
<li>cached PlayersAndScores</li>
</ul>
<h2 dir="auto"><a id="user-content-references" class="anchor" aria-hidden="true" href="#references"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>References</h2>
<h3 dir="auto"><a id="user-content-mem3" class="anchor" aria-hidden="true" href="#mem3"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>mem3</h3>
<p dir="auto">Rust<br>
<a href="https://doc.rust-lang.org/book/" rel="nofollow">https://doc.rust-lang.org/book/</a><br>
<a href="https://rust-lang-nursery.github.io/rust-cookbook/" rel="nofollow">https://rust-lang-nursery.github.io/rust-cookbook/</a><br>
virtual Dom<br>
<a href="https://github.com/fitzgen/dodrio">https://github.com/fitzgen/dodrio</a><br>
web, http, css<br>
<a href="https://github.com/brson/basic-http-server">https://github.com/brson/basic-http-server</a><br>
<a href="https://www.w3schools.com/w3css/" rel="nofollow">https://www.w3schools.com/w3css/</a><br>
WebSocket<br>
<a href="https://ws-rs.org/" rel="nofollow">https://ws-rs.org/</a><br>
<a href="https://github.com/housleyjk/ws-rs">https://github.com/housleyjk/ws-rs</a><br>
wasm, wasm-bindgen<br>
<a href="https://rustwasm.github.io/docs/wasm-bindgen" rel="nofollow">https://rustwasm.github.io/docs/wasm-bindgen</a><br>
<a href="https://github.com/anderejd/wasm-bindgen-minimal-example">https://github.com/anderejd/wasm-bindgen-minimal-example</a><br>
<a href="https://github.com/grizwako/rust-wasm-chat-frontend">https://github.com/grizwako/rust-wasm-chat-frontend</a><br>
JsValue, future, promises<br>
<a href="https://crates.io/crates/wasm-bindgen-futures" rel="nofollow">https://crates.io/crates/wasm-bindgen-futures</a><br>
<a href="https://github.com/fitzgen/dodrio/blob/master/examples/todomvc/src/router.rs">https://github.com/fitzgen/dodrio/blob/master/examples/todomvc/src/router.rs</a><br>
random<br>
<a href="https://rust-random.github.io/book/" rel="nofollow">https://rust-random.github.io/book/</a><br>
Images included free cartoon characters:<br>
<a href="https://vectorcharacters.net/alphabet-vectors/alphabet-cartoon-characters" rel="nofollow">https://vectorcharacters.net/alphabet-vectors/alphabet-cartoon-characters</a><br>
Favicon from<br>
<a href="https://www.favicon-generator.org/search/BLACK/M" rel="nofollow">https://www.favicon-generator.org/search/BLACK/M</a></p>
<h3 dir="auto"><a id="user-content-mem3_server" class="anchor" aria-hidden="true" href="#mem3_server"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>mem3_server</h3>
<p dir="auto">Rust<br>
<a href="https://github.com/seanmonstar/warp">https://github.com/seanmonstar/warp</a><br>
<a href="https://docs.rs/env_logger/0.6.0/env_logger/struct.Builder.html" rel="nofollow">https://docs.rs/env_logger/0.6.0/env_logger/struct.Builder.html</a><br>
<a href="https://github.com/tcr/rust-local-ip">https://github.com/tcr/rust-local-ip</a><br>
<a href="https://regex101.com/" rel="nofollow">https://regex101.com/</a><br>
<a href="https://docs.rs/env_logger/*/env_logger/" rel="nofollow">https://docs.rs/env_logger/*/env_logger/</a><br>
<a href="https://docs.rs/regex/1.1.2/regex/struct.Captures.html" rel="nofollow">https://docs.rs/regex/1.1.2/regex/struct.Captures.html</a><br>
<a href="https://doc.rust-lang.org/reference/tokens.html#raw-string-literals" rel="nofollow">https://doc.rust-lang.org/reference/tokens.html#raw-string-literals</a><br>
<a href="https://github.com/clap-rs/clap">https://github.com/clap-rs/clap</a></p>
</article>
</body>

</html>